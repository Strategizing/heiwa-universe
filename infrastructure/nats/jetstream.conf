# NATS JetStream Configuration for Disaster Recovery
# Enforces persistent storage for the Swarm Ledger

listen: 0.0.0.0:4222
server_name: heiwa-brain

jetstream {
    # Store data in a Railway volume mount for persistence across reboots
    store_dir: "/data/nats/jetstream"
    
    # Resource Limits (Scale based on Railway tier)
    max_memory_store: 256MB
    max_file_store: 10GB
}

# Optional websocket support for browser-based UI dashboards
websocket {
    port: 9222
    no_tls: true
}

# Tailscale Leaf Node Connection (To allow Macbook GPU to connect securely)
leafnodes {
    port: 7422
}
