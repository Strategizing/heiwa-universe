# fleets/docker/Dockerfile.picoclaw
FROM golang:1.24-alpine as builder
RUN apk add --no-cache git make
RUN git clone https://github.com/sipeed/picoclaw.git /app
WORKDIR /app
RUN make build

FROM alpine:latest
WORKDIR /root/
COPY --from=builder /app/picoclaw .
# Copy a custom config that points to your Swarm
COPY config/picoclaw_swarm.json ./.picoclaw/config.json
CMD ["./picoclaw", "daemon"]
